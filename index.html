<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teacher Matt's Adventure Story: Indiana Jones</title>
    <link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/4492/4492853.png" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #1a202c;
            color: #e2e8f0;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 10px;
        }
        .card {
            background-color: #2d3748;
            border-radius: 10px;
            padding: 20px;
            max-width: 90%;
            width: 400px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        .title {
            font-size: clamp(1.2rem, 3.5vw, 1.5rem); /* Responsive title size */
            line-height: 1.2;
            word-wrap: break-word; /* Ensure title wraps */
            max-width: 100%; /* Fit within card */
            margin-bottom: 1rem;
        }
        .button-container {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            gap: 10px; /* Space between buttons */
        }
        button {
            background-color: #4a5568;
            color: #e2e8f0;
            padding: 12px;
            border: 2px solid #718096; /* Border for emphasis */
            border-radius: 8px;
            cursor: pointer;
            width: 48%;
            font-size: 16px;
            font-weight: bold; /* Bolder text */
            transition: background-color 0.3s, transform 0.1s;
        }
        button:hover {
            background-color: #718096;
            transform: scale(1.05); /* Slight grow on hover */
        }
        .grammar-key {
            margin-top: 20px;
            font-size: 14px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="game" class="card">
        <h1 class="title">Teacher Matt's Adventure Story: Indiana Jones</h1>
        <div id="story"></div>
        <div id="choices" class="button-container"></div>
        <div id="grammar-key" class="grammar-key"></div>
    </div>

    <script>
        // Grammar key in single-line format
        const grammarKey = `
            <strong>Grammar Key:</strong> 
            <span class="text-blue-400">Nouns: Blue</span>, 
            <span class="text-red-400">Verbs: Red</span>, 
            <span class="text-green-400">Adjectives: Green</span>, 
            <span class="text-purple-400">Adverbs: Purple</span>
        `;

        // Story cards with color-coded grammar and doubled length
        const storyCards = {
            start: {
                story: `You are <span class="text-blue-400">Indiana Jones</span>, <span class="text-red-400">standing</span> <span class="text-purple-400">boldly</span> in the <span class="text-green-400">swelteringly unbearable</span> <span class="text-blue-400">jungles</span> of <span class="text-blue-400">India</span>, 1935. You've <span class="text-red-400">infiltrated</span> the <span class="text-blue-400">Temple of Doom</span>, a <span class="text-green-400">forbidding</span> <span class="text-blue-400">fortress</span> of the <span class="text-blue-400">Thuggee cult</span>, to <span class="text-red-400">rescue</span> the <span class="text-blue-400">village children</span> and <span class="text-red-400">recover</span> the <span class="text-green-400">stolen</span> <span class="text-blue-400">Sankara Stones</span>. <span class="text-blue-400">Sweat</span> <span class="text-red-400">drips</span> from your <span class="text-blue-400">fedora</span> as you <span class="text-red-400">stand</span> at the <span class="text-blue-400">temple entrance</span>, <span class="text-red-400">hearing</span> <span class="text-green-400">eerie</span> <span class="text-blue-400">chants</span> <span class="text-red-400">echoing</span> from the <span class="text-green-400">shadowy</span> <span class="text-blue-400">depths</span>. A <span class="text-green-400">rickety</span> <span class="text-blue-400">rope bridge</span>, <span class="text-red-400">swaying</span> <span class="text-purple-400">precariously</span> over a <span class="text-green-400">treacherous</span> <span class="text-blue-400">chasm</span>, <span class="text-red-400">beckons</span> to your left, while a <span class="text-green-400">dark</span>, <span class="text-green-400">cavernous</span> <span class="text-blue-400">tunnel</span> <span class="text-red-400">leads</span> <span class="text-purple-400">ominously</span> into the <span class="text-blue-400">temple</span> on your right. Your <span class="text-blue-400">heart</span> <span class="text-red-400">pounds</span> as you <span class="text-red-400">weigh</span> your <span class="text-blue-400">options</span>.`,
                choice1: { text: "Cross the rope bridge to scout the area.", next: "bridge" },
                choice2: { text: "Enter the dark tunnel to sneak inside.", next: "tunnel" }
            },
            bridge: {
                story: `You <span class="text-purple-400">cautiously</span> <span class="text-red-400">cross</span> the <span class="text-green-400">creaking</span> <span class="text-blue-400">rope bridge</span>, your <span class="text-blue-400">boots</span> <span class="text-red-400">gripping</span> the <span class="text-green-400">worn</span> <span class="text-blue-400">planks</span>. The <span class="text-blue-400">wind</span> <span class="text-red-400">howls</span> <span class="text-purple-400">fiercely</span>, <span class="text-red-400">whipping</span> your <span class="text-blue-400">jacket</span>, while <span class="text-blue-400">crocodiles</span> <span class="text-red-400">snap</span> <span class="text-purple-400">hungrily</span> in the <span class="text-green-400">turbulent</span> <span class="text-blue-400">river</span> below. Halfway across, your <span class="text-blue-400">eyes</span> <span class="text-red-400">spot</span> <span class="text-blue-400">Thuggee guards</span>, their <span class="text-green-400">menacing</span> <span class="text-blue-400">silhouettes</span> <span class="text-red-400">patrolling</span> the <span class="text-green-400">far</span> <span class="text-blue-400">side</span>. Their <span class="text-blue-400">torches</span> <span class="text-red-400">cast</span> <span class="text-green-400">flickering</span> <span class="text-blue-400">shadows</span>, and you <span class="text-red-400">hear</span> their <span class="text-green-400">gruff</span> <span class="text-blue-400">voices</span>. You could <span class="text-red-400">confront</span> them, <span class="text-red-400">cracking</span> your <span class="text-blue-400">whip</span> to <span class="text-red-400">disarm</span> them, or <span class="text-red-400">try</span> to <span class="text-red-400">slip</span> past <span class="text-purple-400">unnoticed</span>, <span class="text-red-400">crouching</span> <span class="text-purple-400">stealthily</span> in the <span class="text-blue-400">darkness</span>.`,
                choice1: { text: "Confront the guards with your whip.", next: "fight_guards" },
                choice2: { text: "Sneak past the guards quietly.", next: "sneak" }
            },
            tunnel: {
                story: `The <span class="text-blue-400">tunnel</span> is <span class="text-green-400">damp</span> and <span class="text-green-400">claustrophobic</span>, its <span class="text-blue-400">walls</span> <span class="text-red-400">lined</span> with <span class="text-green-400">grinning</span> <span class="text-blue-400">skulls</span> that <span class="text-red-400">gleam</span> in your <span class="text-blue-400">torchlight</span>. You <span class="text-red-400">hear</span> the <span class="text-green-400">distant</span> <span class="text-blue-400">screams</span> of the <span class="text-green-400">enslaved</span> <span class="text-blue-400">children</span>, their <span class="text-blue-400">cries</span> <span class="text-red-400">echoing</span> <span class="text-purple-400">hauntingly</span> through the <span class="text-blue-400">stone</span>. Your <span class="text-blue-400">heart</span> <span class="text-red-400">races</span> as you <span class="text-red-400">navigate</span> the <span class="text-green-400">treacherous</span> <span class="text-blue-400">passage</span>. Ahead, the <span class="text-blue-400">path</span> <span class="text-red-400">splits</span>: one <span class="text-red-400">leads</span> to a <span class="text-blue-400">chamber</span> where the <span class="text-green-400">glowing</span> <span class="text-blue-400">Sankara Stones</span> <span class="text-red-400">pulse</span> with <span class="text-green-400">mystical</span> <span class="text-blue-400">energy</span>, <span class="text-red-400">tempting</span> you with their <span class="text-blue-400">power</span>. The other <span class="text-red-400">winds</span> toward a <span class="text-blue-400">mine cart track</span>, where <span class="text-green-400">desperate</span> <span class="text-blue-400">cries</span> for <span class="text-blue-400">help</span> <span class="text-red-400">grow</span> <span class="text-purple-400">louder</span>, <span class="text-red-400">urging</span> you to <span class="text-red-400">act</span> <span class="text-purple-400">swiftly</span>.`,
                choice1: { text: "Head toward the Sankara Stones.", next: "stones" },
                choice2: { text: "Follow the cries to the mine carts.", next: "mine_cart" }
            },
            fight_guards: {
                story: `You <span class="text-red-400">crack</span> your <span class="text-blue-400">whip</span> with <span class="text-green-400">lightning-fast</span> <span class="text-blue-400">precision</span>, <span class="text-red-400">disarming</span> one <span class="text-blue-400">guard</span>, his <span class="text-blue-400">sword</span> <span class="text-red-400">clattering</span> to the <span class="text-blue-400">ground</span>. But two more <span class="text-blue-400">guards</span> <span class="text-red-400">charge</span> <span class="text-purple-400">ferociously</span>, their <span class="text-green-400">gleaming</span> <span class="text-blue-400">blades</span> <span class="text-red-400">slashing</span> through the <span class="text-blue-400">air</span>. You <span class="text-red-400">dodge</span> a <span class="text-green-400">deadly</span> <span class="text-blue-400">sword swing</span>, your <span class="text-blue-400">heart</span> <span class="text-red-400">pounding</span>, and <span class="text-red-400">spot</span> a <span class="text-green-400">loose</span> <span class="text-blue-400">boulder</span> <span class="text-red-400">teetering</span> on a <span class="text-blue-400">ledge</span> above. <span class="text-blue-400">Adrenaline</span> <span class="text-red-400">surges</span> as you <span class="text-red-400">consider</span> <span class="text-red-400">lashing</span> your <span class="text-blue-400">whip</span> to <span class="text-red-400">knock</span> it down, <span class="text-red-400">crushing</span> the <span class="text-blue-400">guards</span>, or <span class="text-red-400">diving</span> <span class="text-purple-400">swiftly</span> into a <span class="text-green-400">nearby</span> <span class="text-blue-400">alcove</span> to <span class="text-red-400">escape</span> their <span class="text-green-400">relentless</span> <span class="text-blue-400">assault</span>.`,
                choice1: { text: "Pull the boulder to crush the guards.", next: "boulder" },
                choice2: { text: "Dive into the alcove to hide.", next: "alcove" }
            },
            sneak: {
                story: `You <span class="text-red-400">slip</span> past the <span class="text-blue-400">guards</span>, <span class="text-red-400">hiding</span> <span class="text-purple-400">stealthily</span> in the <span class="text-blue-400">shadows</span> of the <span class="text-blue-400">temple</span>. Your <span class="text-blue-400">boots</span> <span class="text-red-400">move</span> <span class="text-purple-400">silently</span> over the <span class="text-green-400">ancient</span> <span class="text-blue-400">stone</span>. You <span class="text-red-400">reach</span> a <span class="text-blue-400">ritual chamber</span>, where <span class="text-blue-400">Mola Ram</span>, the <span class="text-green-400">sinister</span> <span class="text-blue-400">Thuggee leader</span>, <span class="text-red-400">chants</span> <span class="text-purple-400">fervently</span> over the <span class="text-blue-400">Sankara Stones</span>, their <span class="text-green-400">eerie</span> <span class="text-blue-400">glow</span> <span class="text-red-400">illuminating</span> his <span class="text-green-400">twisted</span> <span class="text-blue-400">face</span>. <span class="text-blue-400">Children</span>, <span class="text-red-400">caged</span> <span class="text-purple-400">nearby</span>, <span class="text-red-400">whimper</span> in <span class="text-blue-400">fear</span>. Your <span class="text-blue-400">instincts</span> <span class="text-red-400">urge</span> you to <span class="text-red-400">act</span>: <span class="text-red-400">attack</span> <span class="text-blue-400">Mola Ram</span> now, <span class="text-red-400">disrupting</span> the <span class="text-green-400">dark</span> <span class="text-blue-400">ritual</span>, or <span class="text-red-400">free</span> the <span class="text-blue-400">children</span> from their <span class="text-green-400">iron</span> <span class="text-blue-400">cage</span> before the <span class="text-blue-400">cult</span> <span class="text-red-400">notices</span>.`,
                choice1: { text: "Attack Mola Ram to stop the ritual.", next: "lose_mola" },
                choice2: { text: "Free the children from the cage.", next: "free_children" }
            },
            stones: {
                story: `You <span class="text-red-400">reach</span> the <span class="text-blue-400">chamber</span> of the <span class="text-blue-400">Sankara Stones</span>, their <span class="text-green-400">mystical</span> <span class="text-blue-400">glow</span> <span class="text-red-400">casting</span> <span class="text-green-400">otherworldly</span> <span class="text-blue-400">light</span> across the <span class="text-green-400">ornate</span> <span class="text-blue-400">walls</span>. As you <span class="text-red-400">grab</span> one <span class="text-blue-400">stone</span>, its <span class="text-green-400">warm</span> <span class="text-blue-400">energy</span> <span class="text-red-400">pulses</span> in your <span class="text-blue-400">hand</span>. Suddenly, a <span class="text-green-400">spiked</span> <span class="text-blue-400">trap wall</span> <span class="text-red-400">rumbles</span>, <span class="text-red-400">closing</span> in with <span class="text-green-400">terrifying</span> <span class="text-blue-400">speed</span>. Your <span class="text-blue-400">eyes</span> <span class="text-red-400">dart</span> to a <span class="text-blue-400">lever</span> on the <span class="text-blue-400">wall</span>, <span class="text-red-400">gleaming</span> <span class="text-purple-400">temptingly</span>, and a <span class="text-green-400">small</span> <span class="text-blue-400">vent</span> at the <span class="text-blue-400">base</span>, <span class="text-red-400">offering</span> a <span class="text-green-400">narrow</span> <span class="text-blue-400">escape</span>. You <span class="text-red-400">must</span> <span class="text-red-400">choose</span> <span class="text-purple-400">quickly</span> to <span class="text-red-400">avoid</span> the <span class="text-green-400">deadly</span> <span class="text-blue-400">trap</span>.`,
                choice1: { text: "Pull the lever to stop the trap.", next: "lose_lever" },
                choice2: { text: "Crawl through the vent to escape.", next: "vent" }
            },
            mine_cart: {
                story: `You <span class="text-red-400">race</span> <span class="text-purple-400">frantically</span> to the <span class="text-blue-400">mine cart track</span>, your <span class="text-blue-400">boots</span> <span class="text-red-400">echoing</span> on the <span class="text-green-400">jagged</span> <span class="text-blue-400">stone</span>. You <span class="text-red-400">find</span> a <span class="text-green-400">rusty</span> <span class="text-blue-400">cart</span>, <span class="text-red-400">poised</span> to <span class="text-red-400">speed</span> down the <span class="text-blue-400">tracks</span>. <span class="text-blue-400">Children</span>, <span class="text-red-400">trapped</span> in a <span class="text-green-400">nearby</span> <span class="text-blue-400">cage</span>, <span class="text-red-400">plead</span> for <span class="text-blue-400">freedom</span>, <span class="text-red-400">guarded</span> by a <span class="text-green-400">hulking</span> <span class="text-blue-400">Thuggee</span> with a <span class="text-green-400">menacing</span> <span class="text-blue-400">scimitar</span>. The <span class="text-blue-400">air</span> <span class="text-red-400">crackles</span> with <span class="text-blue-400">tension</span>. You could <span class="text-red-400">jump</span> into the <span class="text-blue-400">cart</span>, <span class="text-red-400">chasing</span> the <span class="text-blue-400">guards</span> <span class="text-red-400">fleeing</span> with other <span class="text-blue-400">prisoners</span>, or <span class="text-red-400">sneak</span> <span class="text-purple-400">carefully</span> to <span class="text-red-400">free</span> the <span class="text-blue-400">children</span> before the <span class="text-blue-400">guard</span> <span class="text-red-400">notices</span>.`,
                choice1: { text: "Jump into the mine cart.", next: "cart_chase" },
                choice2: { text: "Free the children.", next: "free_children" }
            },
            boulder: {
                story: `You <span class="text-red-400">whip</span> the <span class="text-blue-400">boulder</span> with <span class="text-green-400">deadly</span> <span class="text-blue-400">accuracy</span>, and it <span class="text-red-400">crashes</span> down with a <span class="text-green-400">thunderous</span> <span class="text-blue-400">roar</span>, <span class="text-red-400">stopping</span> the <span class="text-blue-400">guards</span> in their <span class="text-blue-400">tracks</span>. <span class="text-blue-400">Dust</span> <span class="text-red-400">swirls</span> as you <span class="text-red-400">cross</span> the <span class="text-blue-400">bridge</span>, your <span class="text-blue-400">heart</span> <span class="text-red-400">pounding</span> with <span class="text-blue-400">triumph</span>. You <span class="text-red-400">find</span> the <span class="text-blue-400">children</span> in a <span class="text-green-400">rusted</span> <span class="text-blue-400">cage</span>, their <span class="text-green-400">hopeful</span> <span class="text-blue-400">eyes</span> <span class="text-red-400">pleading</span> for <span class="text-blue-400">rescue</span>. The <span class="text-blue-400">temple</span> <span class="text-red-400">rumbles</span> <span class="text-purple-400">ominously</span>, <span class="text-red-400">urging</span> you to <span class="text-red-400">decide</span> <span class="text-purple-400">quickly</span>: <span class="text-red-400">free</span> the <span class="text-blue-400">children</span> now, <span class="text-red-400">unlocking</span> their <span class="text-blue-400">cage</span>, or <span class="text-red-400">search</span> for the <span class="text-blue-400">Sankara Stones</span>, <span class="text-red-400">hidden</span> <span class="text-purple-400">deep</span> within the <span class="text-blue-400">temple</span>.`,
                choice1: { text: "Free the children.", next: "free_children" },
                choice2: { text: "Search for the Sankara Stones.", next: "stones" }
            },
            alcove: {
                story: `You <span class="text-red-400">dive</span> <span class="text-purple-400">swiftly</span> into the <span class="text-blue-400">alcove</span>, <span class="text-red-400">hiding</span> in its <span class="text-green-400">cramped</span>, <span class="text-green-400">shadowy</span> <span class="text-blue-400">recess</span>. Your <span class="text-blue-400">breath</span> <span class="text-red-400">catches</span> as the <span class="text-blue-400">guards</span> <span class="text-red-400">search</span> <span class="text-purple-400">relentlessly</span>, their <span class="text-blue-400">torches</span> <span class="text-red-400">casting</span> <span class="text-green-400">flickering</span> <span class="text-blue-400">light</span>. But the <span class="text-blue-400">alcove</span> is a <span class="text-green-400">dead</span> <span class="text-blue-400">end</span>, its <span class="text-green-400">jagged</span> <span class="text-blue-400">walls</span> <span class="text-red-400">offering</span> no <span class="text-blue-400">escape</span>. The <span class="text-blue-400">guards</span> <span class="text-red-400">find</span> you, their <span class="text-green-400">cruel</span> <span class="text-blue-400">laughter</span> <span class="text-red-400">echoing</span>. You’re <span class="text-red-400">captured</span> by the <span class="text-blue-400">Thuggee cult</span>, <span class="text-red-400">bound</span> in <span class="text-green-400">heavy</span> <span class="text-blue-400">chains</span>. <span class="text-blue-400">Game</span> over!`,
                choice1: { text: "Restart?", next: "start" },
                choice2: { text: "Quit", next: "end" }
            },
            lose_mola: {
                story: `You <span class="text-red-400">charge</span> <span class="text-blue-400">Mola Ram</span> with <span class="text-green-400">reckless</span> <span class="text-blue-400">bravery</span>, your <span class="text-blue-400">whip</span> <span class="text-red-400">cracking</span> in the <span class="text-blue-400">air</span>. But his <span class="text-blue-400">cultists</span>, <span class="text-green-400">fanatical</span> and <span class="text-green-400">numerous</span>, <span class="text-red-400">swarm</span> <span class="text-purple-400">viciously</span> during the <span class="text-green-400">dark</span> <span class="text-blue-400">ritual</span>. Their <span class="text-blue-400">chanting</span> <span class="text-red-400">intensifies</span>, <span class="text-red-400">drowning</span> your <span class="text-blue-400">efforts</span>. You <span class="text-red-400">fight</span> <span class="text-purple-400">valiantly</span>, but the <span class="text-blue-400">Thuggees</span> <span class="text-red-400">overwhelm</span> you, <span class="text-red-400">binding</span> you in <span class="text-blue-400">ropes</span>. You’re <span class="text-red-400">dragged</span> to a <span class="text-green-400">fiery</span> <span class="text-blue-400">altar</span> and <span class="text-red-400">sacrificed</span> to <span class="text-blue-400">Kali</span>. <span class="text-blue-400">Game</span> over!`,
                choice1: { text: "Restart?", next: "start" },
                choice2: { text: "Quit", next: "end" }
            },
            lose_lever: {
                story: `You <span class="text-red-400">pull</span> the <span class="text-blue-400">lever</span> with <span class="text-green-400">desperate</span> <span class="text-blue-400">hope</span>, <span class="text-red-400">expecting</span> the <span class="text-blue-400">trap</span> to <span class="text-red-400">stop</span>. Instead, it <span class="text-red-400">triggers</span> more <span class="text-green-400">razor-sharp</span> <span class="text-blue-400">spikes</span>, <span class="text-red-400">emerging</span> from the <span class="text-blue-400">walls</span> with a <span class="text-green-400">terrifying</span> <span class="text-blue-400">grind</span>. The <span class="text-blue-400">chamber</span> <span class="text-red-400">rumbles</span>, and the <span class="text-blue-400">walls</span> <span class="text-red-400">close</span> in <span class="text-purple-400">relentlessly</span>, <span class="text-red-400">trapping</span> you in a <span class="text-green-400">claustrophobic</span> <span class="text-blue-400">tomb</span>. Your <span class="text-blue-400">torch</span> <span class="text-red-400">flickers</span> as <span class="text-blue-400">darkness</span> <span class="text-red-400">engulfs</span> you. <span class="text-blue-400">Game</span> over!`,
                choice1: { text: "Restart?", next: "start" },
                choice2: { text: "Quit", next: "end" }
            },
            vent: {
                story: `You <span class="text-red-400">crawl</span> <span class="text-purple-400">frantically</span> through the <span class="text-green-400">narrow</span> <span class="text-blue-400">vent</span>, <span class="text-red-400">clutching</span> the <span class="text-blue-400">Sankara Stone</span> as <span class="text-blue-400">dust</span> <span class="text-red-400">falls</span> around you. The <span class="text-blue-400">walls</span> <span class="text-red-400">scrape</span> your <span class="text-blue-400">shoulders</span>, but you <span class="text-red-400">emerge</span> <span class="text-purple-400">narrowly</span> near the <span class="text-blue-400">children’s cage</span>. Their <span class="text-green-400">frightened</span> <span class="text-blue-400">eyes</span> <span class="text-red-400">meet</span> yours, <span class="text-red-400">pleading</span> for <span class="text-blue-400">rescue</span>. The <span class="text-blue-400">stone</span> <span class="text-red-400">glows</span> in your <span class="text-blue-400">hand</span>, <span class="text-red-400">tempting</span> you to <span class="text-red-400">flee</span> to <span class="text-blue-400">safety</span>. You <span class="text-red-400">weigh</span> your <span class="text-blue-400">options</span>: <span class="text-red-400">free</span> the <span class="text-blue-400">children</span> now, <span class="text-red-400">risking</span> <span class="text-blue-400">capture</span>, or <span class="text-red-400">escape</span> with the <span class="text-blue-400">stone</span> to <span class="text-red-400">ensure</span> its <span class="text-blue-400">return</span>.`,
                choice1: { text: "Free the children.", next: "free_children" },
                choice2: { text: "Escape with the stone.", next: "win_stone" }
            },
            cart_chase: {
                story: `You <span class="text-red-400">leap</span> into the <span class="text-blue-400">mine cart</span>, <span class="text-red-400">speeding</span> <span class="text-purple-400">recklessly</span> down the <span class="text-green-400">twisting</span> <span class="text-blue-400">tracks</span>. <span class="text-blue-400">Sparks</span> <span class="text-red-400">fly</span> as you <span class="text-red-400">dodge</span> <span class="text-green-400">deadly</span> <span class="text-blue-400">traps</span>, <span class="text-blue-400">spikes</span> <span class="text-red-400">jutting</span> from the <span class="text-blue-400">walls</span>. The <span class="text-blue-400">guards</span>, <span class="text-red-400">fleeing</span> with the <span class="text-blue-400">children</span>, <span class="text-red-400">race</span> ahead in another <span class="text-blue-400">cart</span>. Your <span class="text-blue-400">cart</span> <span class="text-red-400">shudders</span>, <span class="text-red-400">threatening</span> to <span class="text-red-400">derail</span>. Despite your <span class="text-green-400">furious</span> <span class="text-blue-400">efforts</span>, you <span class="text-red-400">crash</span> into a <span class="text-green-400">dead</span> <span class="text-blue-400">end</span>, the <span class="text-blue-400">guards</span> <span class="text-red-400">escaping</span> with their <span class="text-blue-400">captives</span>. <span class="text-blue-400">Game</span> over!`,
                choice1: { text: "Restart?", next: "start" },
                choice2: { text: "Quit", next: "end" }
            },
            free_children: {
                story: `You <span class="text-red-400">pick</span> the <span class="text-blue-400">lock</span> with <span class="text-green-400">nimble</span> <span class="text-blue-400">fingers</span>, <span class="text-red-400">freeing</span> the <span class="text-blue-400">children</span> from their <span class="text-green-400">rusted</span> <span class="text-blue-400">cage</span>. They <span class="text-red-400">cheer</span> <span class="text-purple-400">joyfully</span>, their <span class="text-green-400">grateful</span> <span class="text-blue-400">faces</span> <span class="text-red-400">lighting</span> up the <span class="text-blue-400">darkness</span>. You <span class="text-red-400">lead</span> them toward the <span class="text-blue-400">exit</span>, <span class="text-red-400">dodging</span> <span class="text-green-400">ancient</span> <span class="text-blue-400">traps</span>. Suddenly, <span class="text-blue-400">Mola Ram</span> <span class="text-red-400">appears</span>, <span class="text-red-400">holding</span> a <span class="text-blue-400">Sankara Stone</span>, his <span class="text-green-400">malevolent</span> <span class="text-blue-400">eyes</span> <span class="text-red-400">glaring</span>. The <span class="text-blue-400">children</span> <span class="text-red-400">cling</span> to you, <span class="text-red-400">urging</span> <span class="text-blue-400">escape</span>. You can <span class="text-red-400">fight</span> <span class="text-blue-400">Mola Ram</span>, <span class="text-red-400">snatching</span> the <span class="text-blue-400">stone</span>, or <span class="text-red-400">flee</span> with the <span class="text-blue-400">children</span> to <span class="text-blue-400">safety</span>.`,
                choice1: { text: "Fight Mola Ram for the stone.", next: "fight_mola" },
                choice2: { text: "Escape with the children.", next: "win_children" }
            },
            fight_mola: {
                story: `You <span class="text-red-400">battle</span> <span class="text-blue-400">Mola Ram</span> on the <span class="text-green-400">swaying</span> <span class="text-blue-400">rope bridge</span>, the <span class="text-blue-400">chasm</span> <span class="text-red-400">yawning</span> below. You <span class="text-red-400">dodge</span> his <span class="text-green-400">vicious</span> <span class="text-blue-400">attacks</span>, his <span class="text-blue-400">dagger</span> <span class="text-red-400">slashing</span> <span class="text-purple-400">wildly</span>. With a <span class="text-green-400">precise</span> <span class="text-blue-400">flick</span>, you <span class="text-red-400">use</span> your <span class="text-blue-400">whip</span> to <span class="text-red-400">snatch</span> the <span class="text-blue-400">Sankara Stone</span> from his <span class="text-blue-400">grasp</span>. The <span class="text-blue-400">bridge</span> <span class="text-red-400">creaks</span> <span class="text-purple-400">dangerously</span>, <span class="text-blue-400">ropes</span> <span class="text-red-400">fraying</span>. You <span class="text-red-400">rally</span> the <span class="text-blue-400">children</span>, <span class="text-red-400">leading</span> them across as the <span class="text-blue-400">structure</span> <span class="text-red-400">shudders</span>. You <span class="text-red-400">make</span> it to <span class="text-blue-400">safety</span>, <span class="text-red-400">saving</span> the <span class="text-blue-400">children</span> and <span class="text-red-400">recovering</span> the <span class="text-blue-400">stone</span>. You <span class="text-red-400">win</span>!`,
                choice1: { text: "Play again?", next: "start" },
                choice2: { text: "Quit", next: "end" }
            },
            win_stone: {
                story: `You <span class="text-red-400">escape</span> <span class="text-purple-400">swiftly</span> with the <span class="text-blue-400">Sankara Stone</span>, its <span class="text-green-400">mystical</span> <span class="text-blue-400">glow</span> <span class="text-red-400">lighting</span> your <span class="text-blue-400">path</span>. You <span class="text-red-400">navigate</span> the <span class="text-green-400">treacherous</span> <span class="text-blue-400">temple</span>, <span class="text-red-400">dodging</span> <span class="text-blue-400">traps</span> and <span class="text-blue-400">guards</span>. The <span class="text-blue-400">village</span> <span class="text-red-400">rejoices</span> as you <span class="text-red-400">return</span> the <span class="text-blue-400">stone</span>, its <span class="text-blue-400">power</span> <span class="text-red-400">restoring</span> <span class="text-blue-400">hope</span>. Yet, the <span class="text-blue-400">children</span> <span class="text-red-400">remain</span> <span class="text-red-400">trapped</span> in the <span class="text-blue-400">temple</span>, their <span class="text-blue-400">fate</span> <span class="text-red-400">haunting</span> your <span class="text-blue-400">mind</span>. You’ve <span class="text-red-400">secured</span> a <span class="text-green-400">partial</span> <span class="text-blue-400">victory</span>, but the <span class="text-blue-400">adventure</span> <span class="text-red-400">feels</span> <span class="text-green-400">incomplete</span>.`,
                choice1: { text: "Play again?", next: "start" },
                choice2: { text: "Quit", next: "end" }
            },
            win_children: {
                story: `You <span class="text-red-400">lead</span> the <span class="text-blue-400">children</span> to <span class="text-blue-400">safety</span>, <span class="text-red-400">guiding</span> them across the <span class="text-green-400">rickety</span> <span class="text-blue-400">rope bridge</span>. You <span class="text-red-400">evade</span> <span class="text-blue-400">Mola Ram</span>, his <span class="text-green-400">furious</span> <span class="text-blue-400">shouts</span> <span class="text-red-400">echoing</span> behind. The <span class="text-blue-400">children</span> <span class="text-red-400">cling</span> to you, their <span class="text-green-400">grateful</span> <span class="text-blue-400">smiles</span> <span class="text-red-400">warming</span> your <span class="text-blue-400">heart</span>. The <span class="text-blue-400">village</span> <span class="text-red-400">erupts</span> in <span class="text-blue-400">celebration</span>, <span class="text-red-400">hailing</span> your <span class="text-blue-400">heroism</span>. Yet, the <span class="text-blue-400">Sankara Stones</span> <span class="text-red-400">remain</span> <span class="text-green-400">lost</span> in the <span class="text-blue-400">temple</span>, their <span class="text-blue-400">power</span> still in <span class="text-blue-400">Thuggee</span> <span class="text-blue-400">hands</span>. You’ve <span class="text-red-400">won</span> a <span class="text-blue-400">victory</span>, but the <span class="text-blue-400">quest</span> <span class="text-red-400">lingers</span>.`,
                choice1: { text: "Play again?", next: "start" },
                choice2: { text: "Quit", next: "end" }
            },
            end: {
                story: `<span class="text-red-400">Thanks</span> for <span class="text-red-400">playing</span> <span class="text-blue-400">Teacher Matt's Adventure Story: Indiana Jones</span>! Your <span class="text-blue-400">courage</span> as <span class="text-blue-400">Indiana Jones</span> <span class="text-red-400">shone</span> <span class="text-purple-400">brightly</span> in the <span class="text-green-400">perilous</span> <span class="text-blue-400">Temple of Doom</span>. <span class="text-red-400">Return</span> <span class="text-purple-400">soon</span> for another <span class="text-green-400">thrilling</span> <span class="text-blue-400">adventure</span>!`,
                choice1: { text: "", next: "" },
                choice2: { text: "", next: "" }
            }
        };

        // Initialize game state
        let currentCard = "start";
        let journey = [];

        // DOM elements
        const storyElement = document.getElementById("story");
        const grammarKeyElement = document.getElementById("grammar-key");
        const choicesElement = document.getElementById("choices");

        // Function to display a card
        function displayCard(cardKey) {
            const card = storyCards[cardKey];
            journey.push(card.story.replace(/<[^>]+>/g, '')); // Store plain text for journey
            storyElement.innerHTML = card.story;
            grammarKeyElement.innerHTML = grammarKey; // Show grammar key after story and buttons

            // Clear previous choices
            choicesElement.innerHTML = "";

            // Create two choice buttons
            if (card.choice1.text) {
                const btn1 = document.createElement("button");
                btn1.textContent = card.choice1.text;
                btn1.onclick = () => {
                    journey.push(`Chose: ${card.choice1.text}`);
                    currentCard = card.choice1.next;
                    if (currentCard) displayCard(currentCard);
                };
                choicesElement.appendChild(btn1);
            }
            if (card.choice2.text) {
                const btn2 = document.createElement("button");
                btn2.textContent = card.choice2.text;
                btn2.onclick = () => {
                    journey.push(`Chose: ${card.choice2.text}`);
                    currentCard = card.choice2.next;
                    if (currentCard) displayCard(currentCard);
                };
                choicesElement.appendChild(btn2);
            }

            // Save journey to localStorage
            localStorage.setItem("templeJourney", JSON.stringify(journey));
        }

        // Start the game
        const playerName = prompt("What’s your name, adventurer?") || "Indiana Jones";
        storyElement.textContent = `Welcome, ${playerName}, to the Temple of Doom!`;
        grammarKeyElement.innerHTML = grammarKey;
        setTimeout(() => displayCard(currentCard), 1000);
    </script>
</body>
</html>
